<gb-toast-message></gb-toast-message>
<gb-modal-delete (delete)="deleteRegister($event)"></gb-modal-delete>
<gb-modal-bots-greeting></gb-modal-bots-greeting>
<div *ngIf="objGreetings && !showLoad" class="content-page p-4 col-12">
  <div class="empty-button">
    <button (click)="register()">
        <i class="icon-Mensage"></i>
        Novo modelo
    </button>
</div>
  <header class="d-flex bd-highlight">
    <div class="p-2 col-name-bot">
      Nome do bot
    </div>
    <div class="p-2 col-message-initial">
      Mensagem inicial
    </div>
    <div class="p-2 col-message-final">
      Mensagem final
    </div>
    <div class="p-2 col-date">
      Data criação
    </div>
    <div class="p-2 col-status">
      Status
    </div>
    <div class="col-action">

    </div>
  </header>
  <div class="list-content">
    <div class="d-flex py-3 bd-highlight painel-list" *ngFor="let greeting of objGreetings; index as i">
      <div class="p-2 col-name-bot">
        {{ greeting.title }}
      </div>
      <div *ngIf="greeting.initialMessageTemplateId" class="p-2 col-message-initial">
        Sim
      </div>
      <div *ngIf="greeting.initialMessage" class="p-2 col-message-initial">
        Sim
      </div>
      <div *ngIf="!greeting.initialMessage && !greeting.initialMessageTemplateId" class="p-2 col-message-initial">
        Não
      </div>

       <div *ngIf="greeting.finalMessageTemplateId" class="p-2 col-message-initial">
        Sim
      </div>
      <div *ngIf="greeting.finalMessage" class="p-2 col-message-initial">
        Sim
      </div>
      <div *ngIf="!greeting.finalMessage && !greeting.finalMessageTemplateId" class="p-2 col-message-initial">
        Não
      </div>

      <div class="p-2 col-date">
        {{ greeting.createdAt | date: 'dd/MM/yyyy' }}
      </div>
      <div class="p-2 py1 col-status">
        <div class="form-check form-switch">
          <input class="form-check-input coston-switch" type="checkbox" [checked]="greeting.active === true" (change)="activeBotGreeting($event, greeting.id)" id="switchBotGreeting">
        </div>
      </div>
      <div class="p-2 py1 item-action">
        <i class="mx-1 p-1 eye icon-eye" (click)="editGreeting('View', greeting.id)"></i>
        <i class="mx-1 p-1 pencil icon-Edit" (click)="editGreeting('Edit', greeting.id)"></i>
        <i (click)="showModalDelete('bot-greeting' ,greeting.id)" class="mx-1 p-1 icon-trash"></i>
      </div>
    </div>
    <div>
    </div>
  </div>

</div>

<div *ngIf="showLoad" class="d-flex align-items-center flex-column bd-highlight mb-3 general">
  <gb-loader></gb-loader>
</div>

<div *ngIf="objGreetings.length === 0 && !showLoad" class="d-flex align-items-center flex-column bd-highlight mb-3 general">
  <div class="p-2 pr-0 bd-highlight">
    <img src="../../../assets/images/caneca.svg">
  </div>
  <div class="p-2 bd-highlight">
    <h4>Nenhum modelo cadastrado</h4>
    <span>Após o primeiro cadastro, você poderá visualizar aqui.</span>
  </div>
  <div class="empty-button">
    <button (click)="register()">
        <i class="icon-Mensage"></i>
        Novo modelo
    </button>
</div>
</div>
